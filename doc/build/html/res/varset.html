<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Varset &mdash; Voozanoo4 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/epiconcept.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Voozanoo4 1.0 documentation" href="../index.html" />
    <link rel="up" title="Ressources" href="../ressources.html" />
    <link rel="next" title="Form" href="form.html" />
    <link rel="prev" title="Ressources" href="../ressources.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="form.html" title="Form"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ressources.html" title="Ressources"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Voozanoo4 1.0 documentation</a> &raquo;</li>
          <li><a href="../ressources.html" accesskey="U">Ressources</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="varset">
<span id="id1"></span><h1>Varset<a class="headerlink" href="#varset" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Le VarSet correspond au questionnaire de Voozanoo3. Ce XML est utilisé pour définir les variables contenues dans le VarSet.</p>
<p>Exemple:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;patient&quot;</span> <span class="na">prefix=</span><span class="s">&quot;pat&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Patient&quot;</span><span class="nt">&gt;</span>

  <span class="c">&lt;!-- Ces variables font partie du varset_head (Cf en bas de page) --&gt;</span>
  <span class="c">&lt;!-- var id=&quot;id_data&quot; type=&quot;primary_key&quot;/ --&gt;</span>
  <span class="c">&lt;!-- var id=&quot;id_data&quot; type=&quot;integer&quot; mandatory=&quot;true&quot; / --&gt;</span>

  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;nom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Nom du patient&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Nom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;prenom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Prénom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Depuis la version 2.14 les attributs <code class="docutils literal"><span class="pre">prefix</span></code>, <code class="docutils literal"><span class="pre">type</span></code> et <code class="docutils literal"><span class="pre">label</span></code> sont obligatoires. Ils sont utilisés pour peupler les champs de la table <code class="docutils literal"><span class="pre">*_pj_varset</span></code> lorsqu&#8217;on utilise le gestionnaire
de ressources pour modifier le varset.</p>
</div>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">name</span></code> : permet d&#8217;identifier le varset, il doit être unique.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">prefix</span></code> : est utilisé dans le nom table liée à ce varset (Ex : <code class="docutils literal"><span class="pre">*_pat_data</span></code>, <code class="docutils literal"><span class="pre">*_med_data</span></code>), il doit être unique.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">type</span></code> : permet d&#8217;identifier le type du varset.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">std</span></code> : Varset standard</li>
<li><code class="docutils literal"><span class="pre">join</span></code> : Varset de jointure (relation n-n entre deux varsets)</li>
<li><code class="docutils literal"><span class="pre">sys</span></code> : Varset système (Ne doit normalement pas être éditable par un utilisateur)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">label</span></code> : est le libellé du varset</p>
</li>
</ul>
<p>Pour chaque variable les attribus obligatoires sont :</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">uid</span></code> : Abbréviation de Unique Id cet attribut permet d&#8217;identifier cette variable durablement, afin de gérer un ajout, une suppression de variable ainsi qu&#8217;une modification de nom de variable (contenu dans <code class="docutils literal"><span class="pre">id</span></code>)</li>
<li><code class="docutils literal"><span class="pre">id</span></code> : Identifiant de la variable (utilisé comme nom de colonne dans la base de données)</li>
<li><code class="docutils literal"><span class="pre">type</span></code> : Type de la variable (Cf <a class="reference internal" href="#varset-types"><em>Types</em></a>)</li>
</ul>
<p>Pour les autres attributs : <a class="reference internal" href="#varset-options-globales"><em>Options globales</em></a></p>
</div>
<div class="section" id="types">
<span id="varset-types"></span><h2>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="primary-key">
<h3>primary_key<a class="headerlink" href="#primary-key" title="Permalink to this headline">¶</a></h3>
<p>Le type <code class="docutils literal"><span class="pre">primary_key</span></code> permet de définir la clé primaire du varset. Aucun paramètre supplémentaire n&#8217;est nécessaire.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">id=</span><span class="s">&quot;id_data&quot;</span> <span class="na">type=</span><span class="s">&quot;primary_key&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Vous n&#8217;avez pas à inclure cette variable dans votre varset, c&#8217;est le role du <a class="reference internal" href="#varset-varset-head"><em>varset_head</em></a>. Le fait de l&#8217;inclure dans votre Varset produira une erreur sql (Duplicate column).</p>
</div>
</div>
<div class="section" id="fkey-varset">
<h3>fkey_varset<a class="headerlink" href="#fkey-varset" title="Permalink to this headline">¶</a></h3>
<p>Le type <code class="docutils literal"><span class="pre">fkey_varset</span></code> sert à définir un clé étrangère vers un autre varset.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_commune&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_varset&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fkey_varset</span> <span class="na">varset_name=</span><span class="s">&quot;commune&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">varset_name</span></code> : nom du varset sur lequel effectuer la jointure. Le système fait la jointure automatiquement sur la variable <code class="docutils literal"><span class="pre">id_data</span></code> de l&#8217;autre varset.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>GSA - 23/12/2013 : Je pense que ce noeud est déprécié et plus utilisé</p>
<p>Dans le varset cible (ici commune), il est possible d&#8217;ajouter une balise &#8220;relation&#8221;. Cette balise doit permettre au varset de savoir qu&#8217;il y a une relation sur lui.</p>
<div class="last highlight-xml"><div class="highlight"><pre><span class="nt">&lt;relation</span> <span class="na">varset_name=</span><span class="s">&quot;patient&quot;</span> <span class="na">var_id=</span><span class="s">&quot;id_commune&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fkey-dico">
<h3>fkey_dico<a class="headerlink" href="#fkey-dico" title="Permalink to this headline">¶</a></h3>
<p>Le type <code class="docutils literal"><span class="pre">fkey_dico</span></code> sert à définir une clé étrangère vers un dictionnaire du varset dico qui est présent dans chaque projet.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;sexe&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_dico&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fkey_dico</span> <span class="na">dico_name=</span><span class="s">&quot;sexe&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">dico_name</span></code> : nom du dictionnaire dans la table des dictionnaires</li>
</ul>
</div>
<div class="section" id="fkey-dico-ext">
<h3>fkey_dico_ext<a class="headerlink" href="#fkey-dico-ext" title="Permalink to this headline">¶</a></h3>
<p>Le type <code class="docutils literal"><span class="pre">fkey_dico_ext</span></code> permet d&#8217;avoir une relation N-N avec un dictionnaire (correspond aux cases à cocher dans voozanoo3).</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;ttt&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_dico_ext&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fkey_dico_ext</span> <span class="na">dico_name=</span><span class="s">&quot;ttt&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">dico_name</span></code> : nom du dictionnaire</li>
</ul>
<p>Ce type a besoin d&#8217;une table dédiée à la jointure (une table par jointure).</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;pat_ttt&quot;</span> <span class="na">prefix=</span><span class="s">&quot;01_dico_ttt&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Réponses Patient-Traitement&quot;</span> <span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_pat&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;id_dico&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<p>Le nom du varset est défnie selon la nomenclature suivante: (N° varset)_dico_(Nom variable). Ex: 01_dico_ttt ce qui donne e5ib_01_dico_ttt_data pour la table des données.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Il n&#8217;est pas utile d&#8217;avoir des droits sur ce type de table, donc pas de table group et group_mode.</p>
</div>
<img alt="../_images/relations_n_n_v3.png" src="../_images/relations_n_n_v3.png" />
<p>Dans le xml dataquery, on récupère les colonnes de type <code class="docutils literal"><span class="pre">fkey_dico_ext</span></code> de la même manière que les autres colonnes :</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;column_simple</span> <span class="na">field_name=</span><span class="s">&quot;ttt&quot;</span> <span class="na">table_name=</span><span class="s">&quot;p&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>En revanche les données sont renvoyées sous forme d&#8217;un tableau ( voir la page de définition du XML de dataset ).
Exemple de représentation de la données dans le XML de dataset:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;mutiple</span> <span class="na">name=</span><span class="s">&quot;ttt&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;value&gt;</span>37<span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;value&gt;</span>38<span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;value&gt;</span>40<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/multiple&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="fkey-sys-dico">
<h3>fkey_sys_dico<a class="headerlink" href="#fkey-sys-dico" title="Permalink to this headline">¶</a></h3>
<p>Ce type est utilisé pour lier une variable à un dictionnaire système (table <code class="docutils literal"><span class="pre">sys_dico_data</span></code>).</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p>Un dictionnaire système est commun à tous les projets de l&#8217;application.</p>
<p class="last">Il est également indendique d&#8217;une application à une autre (propre au noyau Voozanoo4).</p>
</div>
<p>Le comportement est similaire au type <code class="docutils literal"><span class="pre">fkey_dico</span></code></p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;user_status&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_sys_dico&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fkey_sys_dico</span> <span class="na">dico_name=</span><span class="s">&quot;user_status&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="fkey-sys-dico-ext">
<h3>fkey_sys_dico_ext<a class="headerlink" href="#fkey-sys-dico-ext" title="Permalink to this headline">¶</a></h3>
<p>Similaire au type <code class="docutils literal"><span class="pre">fkey_dico_ext</span></code> excepté que c&#8217;est une dictionnaire système qui est pointé.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;foo&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_sys_dico_ext&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fkey_sys_dico_ext</span> <span class="na">dico_name=</span><span class="s">&quot;bar&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="fkey-varset-ext">
<h3>fkey_varset_ext<a class="headerlink" href="#fkey-varset-ext" title="Permalink to this headline">¶</a></h3>
<p>Le type <code class="docutils literal"><span class="pre">fkey_varset_ext</span></code> est utilisé pour définir des relations de type N-N avec un autre varset.
Dans l&#8217;exemple ci-dessous nous décrivons une relation de type N-N entre le varset &#8220;patient&#8221;, et le varset &#8220;bilan&#8221;.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;patient&quot;</span> <span class="na">prefix=</span><span class="s">&quot;01&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Patient&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_bilan&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_varset_ext&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fkey_varset_ext</span> <span class="na">varset_relation_name=</span><span class="s">&quot;pat_bil&quot;</span> <span class="na">varset_name=</span><span class="s">&quot;bilan&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>

<span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;bilan&quot;</span> <span class="na">prefix=</span><span class="s">&quot;02&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Patient&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_patient&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_varset_ext&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fkey_varset_ext</span> <span class="na">varset_relation_name=</span><span class="s">&quot;pat_bil&quot;</span> <span class="na">varset_name=</span><span class="s">&quot;patient&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>

<span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;pat_bil&quot;</span> <span class="na">prefix=</span><span class="s">&quot;01_02&quot;</span> <span class="na">type=</span><span class="s">&quot;join&quot;</span> <span class="na">label=</span><span class="s">&quot;Jointure Patient-Bilan&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_patient&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;id_bilan&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<p>Le varset &#8220;pat_bil&#8221; représente la table de jointure entre les deux varsets.</p>
</div>
<div class="section" id="fkey-table-non-implemente">
<h3>fkey_table - Non implémenté<a class="headerlink" href="#fkey-table-non-implemente" title="Permalink to this headline">¶</a></h3>
<p>Le type fkey_table permet de faire une jointure sur une table de la base de données.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">En date du 08/08/2013 je n&#8217;ai trouvé aucune référence à ce type, je ne pense pas qu&#8217;il soit implémenté - GSA</p>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_patient&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_table&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fkey_table</span> <span class="na">table_name=</span><span class="s">&quot;e5y7_01_data&quot;</span> <span class="na">key_name=</span><span class="s">&quot;id_data&quot;</span> <span class="na">multiple=</span><span class="s">&quot;false|true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul>
<li><p class="first">table_name: nom de la table dans la base de données</p>
</li>
<li><p class="first">key_name: nom de la variable utilisée pour la jointure</p>
</li>
<li><dl class="first docutils">
<dt>multiple</dt>
<dd><ul class="first last simple">
<li>false: jointure de type 1-n.</li>
<li>true: jointure de type n-n.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="fkey-ws-non-implemente">
<h3>fkey_ws - Non implémenté<a class="headerlink" href="#fkey-ws-non-implemente" title="Permalink to this headline">¶</a></h3>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Ce type est purement théorique à l&#8217;heure actuelle (2013-08-08), aucune implémentation technique n&#8217;a été faite.</p>
</div>
<p>Le type fkey_ws permet de lier une variable à un webservice.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;commune&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_ws&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fkey_ws</span> <span class="na">uri=</span><span class="s">&quot;https://...&quot;</span> <span class="na">multiple=</span><span class="s">&quot;false|true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul>
<li><p class="first">uri</p>
</li>
<li><dl class="first docutils">
<dt>multiple</dt>
<dd><ul class="first last simple">
<li>false: jointure de type 1-n.</li>
<li>true: jointure de type n-n.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="string">
<h3>string<a class="headerlink" href="#string" title="Permalink to this headline">¶</a></h3>
<p>Chaine de caractère</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;nom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">length</span></code> : longueur maximale de la chaine.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Cette longueur est utilisée lors de la représentation du champ à l&#8217;écran, elle limite également la saisie utilisateur à N caractères.</p>
<p class="last">La colonne SQL de la table correspondante aura également cette longueur : <code class="docutils literal"><span class="pre">VARCHAR(N)</span></code></p>
</div>
</div>
<div class="section" id="integer">
<h3>integer<a class="headerlink" href="#integer" title="Permalink to this headline">¶</a></h3>
<p>Entier</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;taille&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;integer</span> <span class="na">min=</span><span class="s">&quot;10&quot;</span> <span class="na">max=</span><span class="s">&quot;220&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">min</span></code> : valeur min</li>
<li><code class="docutils literal"><span class="pre">max</span></code> : valeur max</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Les <code class="docutils literal"><span class="pre">min</span></code> et <code class="docutils literal"><span class="pre">max</span></code> fournis sont utilisés pour contrôler la saisie utilisateur.</p>
<p class="last">Le <code class="docutils literal"><span class="pre">max</span></code> est utilisé pour la colonne SQL de la table correspondante : <code class="docutils literal"><span class="pre">INT(N)</span></code></p>
</div>
</div>
<div class="section" id="float">
<h3>float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h3>
<p>Nombre avec décimales</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;temperature&quot;</span> <span class="na">type=</span><span class="s">&quot;float&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;float</span> <span class="na">min=</span><span class="s">&quot;35&quot;</span> <span class="na">max=</span><span class="s">&quot;45&quot;</span> <span class="na">accuracy=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">min</span></code> : valeur min</li>
<li><code class="docutils literal"><span class="pre">max</span></code> : valeur max</li>
<li><code class="docutils literal"><span class="pre">accuracy</span></code> : nombre de décimales possibles (précision)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Tout comme le type <code class="docutils literal"><span class="pre">integer</span></code> les <code class="docutils literal"><span class="pre">min</span></code> et <code class="docutils literal"><span class="pre">max</span></code> sont utilisés pour contrôler la saisie utilisateur.</p>
<p>La colonne SQL générée sera de type <code class="docutils literal"><span class="pre">DECIMAL</span></code> en MySQL (Voir la <a class="reference external" href="http://dev.mysql.com/doc/refman/5.0/fr/numeric-types.html">documentation officielle</a>).</p>
<p class="last">Exemple : <code class="docutils literal"><span class="pre">min</span></code> = 0, <code class="docutils literal"><span class="pre">max</span></code> = 999, <code class="docutils literal"><span class="pre">accuracy</span></code> = 2 donnera une colonne <code class="docutils literal"><span class="pre">DECIMAL(5,</span> <span class="pre">2)</span></code> pouvant stocker les flottants tels que 532,87 ou 787,01.</p>
</div>
</div>
<div class="section" id="date">
<h3>date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h3>
<p>Date</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;ddn&quot;</span> <span class="na">type=</span><span class="s">&quot;date&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;date</span> <span class="na">min=</span><span class="s">&quot;1900-01-01&quot;</span> <span class="na">max=</span><span class="s">&quot;2010-12-31&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">min</span></code> : valeur min</li>
<li><code class="docutils literal"><span class="pre">max</span></code> : valeur max</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les valeurs <code class="docutils literal"><span class="pre">min</span></code> et <code class="docutils literal"><span class="pre">max</span></code> doivent être données au format SQL : <code class="docutils literal"><span class="pre">YYY-MM-DD</span></code>.</p>
</div>
</div>
<div class="section" id="time">
<h3>time<a class="headerlink" href="#time" title="Permalink to this headline">¶</a></h3>
<p>Heure</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;depart&quot;</span> <span class="na">type=</span><span class="s">&quot;time&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;time</span> <span class="na">min=</span><span class="s">&quot;08:30:00&quot;</span> <span class="na">max=</span><span class="s">&quot;19:00:00&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">min</span></code> : valeur min</li>
<li><code class="docutils literal"><span class="pre">max</span></code> : valeur max</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les valeurs <code class="docutils literal"><span class="pre">min</span></code> et <code class="docutils literal"><span class="pre">max</span></code> doivent être données au format SQL : <code class="docutils literal"><span class="pre">HH:ii:ss</span></code>.</p>
</div>
</div>
<div class="section" id="datetime-implemente-partiellement">
<h3>datetime - Implémenté partiellement<a class="headerlink" href="#datetime-implemente-partiellement" title="Permalink to this headline">¶</a></h3>
<p>Date/Heure</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ce type de variable n&#8217;est implémenté que partiellement, le rendu graphique se fait actuellement comme un champ Date simple.</p>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;date_creation&quot;</span> <span class="na">type=</span><span class="s">&quot;datetime&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/var&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="text">
<h3>text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h3>
<p>Text multi-ligne</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;commentaire&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="boolean">
<h3>boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h3>
<p>Booléen</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span> <span class="na">id=</span><span class="s">&quot;enabled&quot;</span> <span class="na">type=</span><span class="s">&quot;boolean&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">La valeur par défaut doit être 1/0 (et non pas true/false)</p>
</div>
</div>
</div>
<div class="section" id="options-globales">
<span id="varset-options-globales"></span><h2>Options globales<a class="headerlink" href="#options-globales" title="Permalink to this headline">¶</a></h2>
<p>Ces options sont applicables à tous les types, exceptés les types <code class="docutils literal"><span class="pre">primary_key</span></code> et <code class="docutils literal"><span class="pre">foreign_key</span></code>.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;var</span>

  <span class="na">uid=</span><span class="s">&quot;1&quot;</span>
  <span class="na">id=</span><span class="s">&quot;ddn&quot;</span>
  <span class="na">type=</span><span class="s">&quot;date&quot;</span>


  <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span>
  <span class="na">default_label=</span><span class="s">&quot;Date de naissance&quot;</span>
  <span class="na">default_short_label=</span><span class="s">&quot;DDN&quot;</span>
  <span class="na">default_value=</span><span class="s">&quot;curdate()&quot;</span>
<span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">mandatory</span></code> (true|false) : variable obligatoire</li>
<li><code class="docutils literal"><span class="pre">default_label</span></code> : libellé de la variable</li>
<li><code class="docutils literal"><span class="pre">default_short_label</span></code> : libellé court, utilisé par exemple pour les en-têtes de colonne dans les tableaux.</li>
<li><code class="docutils literal"><span class="pre">default_value</span></code> : valeur par défaut. Les règles sont celles de MySQL à une exception, celle des fonctions:</li>
</ul>
<p><a class="reference external" href="http://dev.mysql.com/doc/refman/5.0/fr/create-table.html">http://dev.mysql.com/doc/refman/5.0/fr/create-table.html</a></p>
<p>Une valeur DEFAULT doit être une constante, ça ne peut être une fonction ou une expression.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p>Voozanoo4 autorise cependant l&#8217;utilisation de mot clés faisant référence à certaines fonctions SQL (SQL standard) :</p>
<ul class="last simple">
<li>Now() : Affectera la date courante à la variable</li>
</ul>
</div>
</div>
<div class="section" id="validateurs">
<span id="varset-validateurs"></span><h2>Validateurs<a class="headerlink" href="#validateurs" title="Permalink to this headline">¶</a></h2>
<p>Il est possible de spécifier un validateur par variable (question). Pour cela il faut rajouter un attribut <code class="docutils literal"><span class="pre">validator</span></code> au noeud enfant du noeud <code class="docutils literal"><span class="pre">&lt;var&gt;&lt;/var&gt;</span></code> :</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;patient&quot;</span> <span class="na">prefix=</span><span class="s">&quot;01&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Patient&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;email&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Adresse email&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Email&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;100&quot;</span> <span class="na">validator=</span><span class="s">&quot;email&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<p>Il est également possible de rajouter une attribut <code class="docutils literal"><span class="pre">regexp</span></code> au même noeud afin d&#8217;activer la validateur par expression régulière.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;commune&quot;</span> <span class="na">prefix=</span><span class="s">&quot;99&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Commune&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;cp&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Code postal&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;CP&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;100&quot;</span> <span class="na">regexp=</span><span class="s">&quot;^[0-9]{5}$&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Ce validateur peut se cumuler à un validateur &#8220;classique&#8221; (Attribute <code class="docutils literal"><span class="pre">validator</span></code> et <code class="docutils literal"><span class="pre">regexp</span></code>).</p>
<p class="last">Pour plus d&#8217;informations consultez la documentation sur les <a class="reference internal" href="../lib_js.html#lib-js-validateurs"><em>Validateurs</em></a>.</p>
</div>
</div>
<div class="section" id="exemples-complets">
<h2>Exemples complets<a class="headerlink" href="#exemples-complets" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;dico&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dico&quot;</span> <span class="na">type=</span><span class="s">&quot;sys&quot;</span> <span class="na">label=</span><span class="s">&quot;Dictionnaire&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;dico_name&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Nom du dictionnaire&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Dico&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;label&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Libellé&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Libellé&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;200&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;3&quot;</span> <span class="na">id=</span><span class="s">&quot;short_label&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Libellé court&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Libellé court&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;commune&quot;</span> <span class="na">prefix=</span><span class="s">&quot;99&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Commune&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;commune&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Commune&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Commune&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;200&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;cp&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Code postal&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;CP&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;3&quot;</span> <span class="na">id=</span><span class="s">&quot;code_insee&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Code INSEE&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;INSEE&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;user&quot;</span> <span class="na">prefix=</span><span class="s">&quot;user&quot;</span> <span class="na">type=</span><span class="s">&quot;sys&quot;</span> <span class="na">label=</span><span class="s">&quot;Utilisateur&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;login&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Login&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Login&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;200&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;nom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;false&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Nom&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Nom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;200&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;3&quot;</span> <span class="na">id=</span><span class="s">&quot;prenom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;false&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Prénom&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Prénom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;patient&quot;</span> <span class="na">prefix=</span><span class="s">&quot;01&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Patient&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;nom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Nom&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Nom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;sexe&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_dico&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;false&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Sexe&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Sexe&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fkey_dico</span> <span class="na">dico_name=</span><span class="s">&quot;sexe&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;3&quot;</span> <span class="na">id=</span><span class="s">&quot;commune&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_varset&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;false&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Commune&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Commune&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fkey_varset</span> <span class="na">name=</span><span class="s">&quot;commune&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;4&quot;</span> <span class="na">id=</span><span class="s">&quot;traitement&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_dico_ext&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;false&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Traitement&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;ttt&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fkey_dico_ext</span> <span class="na">varset_relation_name=</span><span class="s">&quot;pat_ttt&quot;</span>  <span class="na">dico_name=</span><span class="s">&quot;ttt&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;5&quot;</span> <span class="na">id=</span><span class="s">&quot;medecin&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_varset&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;false&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Médecin&quot;</span> <span class="na">default_short_label=</span><span class="s">&quot;Med&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fkey_varset</span> <span class="na">name=</span><span class="s">&quot;user&quot;</span><span class="nt">/&gt;</span> <span class="c">&lt;!-- e5y7_01_medecin --&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="c">&lt;!--relation varset_name=&quot;enquete&quot; var_id=&quot;id_patient&quot;/--&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;pat_ttt&quot;</span> <span class="na">prefix=</span><span class="s">&quot;01_dico_ttt&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Réponses Patient-Traitement&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_data&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;2&quot;</span> <span class="na">id=</span><span class="s">&quot;id_ttt&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;enquete&quot;</span> <span class="na">prefix=</span><span class="s">&quot;03&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Enquêtes&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;id_patient&quot;</span> <span class="na">type=</span><span class="s">&quot;fkey_varset&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fkey_varset</span> <span class="na">name=</span><span class="s">&quot;patient&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="libelles">
<h2>Libellés<a class="headerlink" href="#libelles" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Cela reste <strong>A discuter/Valider</strong>. Actuellement aucun noeud <code class="docutils literal"><span class="pre">&lt;label&gt;</span></code> est compris par la système.</p>
<p class="last">De plus un système d&#8217;internationalisation est déjà en place (Voir partie <a class="reference internal" href="../i18n.html#i18n"><em>Internationalisation (I18N)</em></a>).</p>
</div>
<p>Ajouter les libellés des variables dans le XML (y compris les traductions).</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset</span> <span class="na">name=</span><span class="s">&quot;patient&quot;</span> <span class="na">prefix=</span><span class="s">&quot;01&quot;</span> <span class="na">type=</span><span class="s">&quot;std&quot;</span> <span class="na">label=</span><span class="s">&quot;Patient&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;nom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Nom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span> <span class="na">value=</span><span class="s">&quot;Lastname&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
  <span class="nt">&lt;var</span> <span class="na">uid=</span><span class="s">&quot;1&quot;</span> <span class="na">id=</span><span class="s">&quot;prenom&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;true&quot;</span> <span class="na">default_label=</span><span class="s">&quot;Prénom&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">length=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span> <span class="na">value=</span><span class="s">&quot;Firstname&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/var&gt;</span>
<span class="nt">&lt;/varset&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="varset-head">
<span id="varset-varset-head"></span><h2>varset_head<a class="headerlink" href="#varset-head" title="Permalink to this headline">¶</a></h2>
<p>Le rôle du varset_head est de regrouper les variables qui sont communes à tous les varset. Il s&#8217;agit des variables d&#8217;environnement.</p>
<p>Il s&#8217;agit d&#8217;un fichier Xml présent coté Core qui est &#8220;fusionné&#8221; avec le Xml de varset définit par l&#8217;utilisateur. Il est présent dans <code class="docutils literal"><span class="pre">/src/library/Resource/XML/varset_head.xml</span></code>.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;varset_head&gt;</span>
   <span class="nt">&lt;var</span> <span class="na">id=</span><span class="s">&quot;id_data&quot;</span> <span class="na">type=</span><span class="s">&quot;primary_key&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;var</span> <span class="na">id=</span><span class="s">&quot;id_owner&quot;</span> <span class="na">type=</span><span class="s">&quot;integer&quot;</span> <span class="na">mandatory=</span><span class="s">&quot;TRUE&quot;</span> <span class="nt">/&gt;</span>
   <span class="c">&lt;!-- [...] --&gt;</span>
<span class="nt">&lt;/varset_head&gt;</span>
</pre></div>
</div>
<p><strong>TODO</strong> Lister les variables d&#8217;environnement</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Varset</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#types">Types</a><ul>
<li><a class="reference internal" href="#primary-key">primary_key</a></li>
<li><a class="reference internal" href="#fkey-varset">fkey_varset</a></li>
<li><a class="reference internal" href="#fkey-dico">fkey_dico</a></li>
<li><a class="reference internal" href="#fkey-dico-ext">fkey_dico_ext</a></li>
<li><a class="reference internal" href="#fkey-sys-dico">fkey_sys_dico</a></li>
<li><a class="reference internal" href="#fkey-sys-dico-ext">fkey_sys_dico_ext</a></li>
<li><a class="reference internal" href="#fkey-varset-ext">fkey_varset_ext</a></li>
<li><a class="reference internal" href="#fkey-table-non-implemente">fkey_table - Non implémenté</a></li>
<li><a class="reference internal" href="#fkey-ws-non-implemente">fkey_ws - Non implémenté</a></li>
<li><a class="reference internal" href="#string">string</a></li>
<li><a class="reference internal" href="#integer">integer</a></li>
<li><a class="reference internal" href="#float">float</a></li>
<li><a class="reference internal" href="#date">date</a></li>
<li><a class="reference internal" href="#time">time</a></li>
<li><a class="reference internal" href="#datetime-implemente-partiellement">datetime - Implémenté partiellement</a></li>
<li><a class="reference internal" href="#text">text</a></li>
<li><a class="reference internal" href="#boolean">boolean</a></li>
</ul>
</li>
<li><a class="reference internal" href="#options-globales">Options globales</a></li>
<li><a class="reference internal" href="#validateurs">Validateurs</a></li>
<li><a class="reference internal" href="#exemples-complets">Exemples complets</a></li>
<li><a class="reference internal" href="#libelles">Libellés</a></li>
<li><a class="reference internal" href="#varset-head">varset_head</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../ressources.html"
                        title="previous chapter">Ressources</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="form.html"
                        title="next chapter">Form</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/res/varset.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="form.html" title="Form"
             >next</a> |</li>
        <li class="right" >
          <a href="../ressources.html" title="Ressources"
             >previous</a> |</li>
        <li><a href="../index.html">Voozanoo4 1.0 documentation</a> &raquo;</li>
          <li><a href="../ressources.html" >Ressources</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, Epiconcept.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>